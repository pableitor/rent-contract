<!DOCTYPE html>
<html lang="es" xml:lang="es" xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contrato de Alojamiento Temporal</title>
  <style type="text/css">
    /* --- ESTILOS PARA LA PANTALLA --- */
    :root {
      --primary-color: #005a9c;
      --secondary-color: #333;
      --light-gray: #f4f7f9;
      --border-color: #e0e0e0;
      --placeholder-bg: #eeeeee;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
      background-color: var(--light-gray);
      color: #444;
      line-height: 1.6;
      font-size: 11pt;
      padding: 2rem 1rem;
    }

    .contract-container {
      max-width: 800px;
      margin: 0 auto;
      background-color: white;
      padding: 3rem;
      border-radius: 8px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
    }

    h1 {
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--secondary-color);
      text-align: center;
      margin-bottom: 2.5rem;
      border-bottom: 1px solid var(--border-color);
      padding-bottom: 1rem;
    }

    h2 {
      font-size: 1.3rem;
      font-weight: 600;
      color: var(--primary-color);
      margin-top: 2.5rem;
      margin-bottom: 1rem;
    }

    h3 {
      font-size: 1.1rem;
      font-weight: 600;
      color: var(--secondary-color);
      margin-top: 2rem;
      margin-bottom: 0.8rem;
    }

    p {
      margin-bottom: 1.2rem;
    }
    
    p:last-child {
        margin-bottom: 0;
    }
    
    .party-info {
        background-color: var(--light-gray);
        padding: 1rem 1.5rem;
        border-left: 4px solid var(--primary-color);
        border-radius: 4px;
        margin-bottom: 1rem;
    }

    .placeholder {
      background-color: var(--placeholder-bg);
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      font-style: italic;
      border-bottom: 2px solid var(--border-color);
    }
    
    /* --- SECCIÓN DE FIRMAS --- */
    .signatures-container {
        display: flex;
        justify-content: space-around;
        gap: 2rem;
        flex-wrap: wrap; /* Para que se apilen en pantallas pequeñas */
        margin-top: 2rem;
    }

    .signature-section {
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .signature-section p {
        font-weight: 600;
        color: var(--secondary-color);
        margin-bottom: 0.5rem;
    }

    canvas {
        width: 300px;
        height: 200px;
        border: 2px dashed var(--border-color);
        border-radius: 8px;
        cursor: crosshair;
        background-color: #fcfcfc;
    }

    .clear-signature-btn {
        margin-top: 0.5rem;
        padding: 6px 12px;
        font-size: 0.8rem;
        color: #777;
        background-color: #f0f0f0;
        border: 1px solid #ddd;
        border-radius: 4px;
        cursor: pointer;
        transition: background-color 0.2s, color 0.2s;
    }
    .clear-signature-btn:hover {
        background-color: #e0e0e0;
        color: #333;
    }

    /* --- DROPDOWN --- */
    .dropdown { position: relative; width: 100%; }
    .dropdown-toggle { padding: 12px 15px; border: 1px solid var(--border-color); cursor: pointer; background-color: #fff; border-radius: 6px; display: flex; justify-content: space-between; align-items: center; transition: border-color 0.2s; text-align: left; }
    .dropdown-toggle:hover { border-color: var(--primary-color); }
    .dropdown-toggle::after { content: '▼'; font-size: 0.8em; color: #888; margin-left: 10px; }
    .dropdown-menu { position: absolute; top: 100%; left: 0; right: 0; background: #fff; border: 1px solid var(--border-color); border-top: none; max-height: 250px; overflow-y: auto; display: none; z-index: 1000; border-radius: 0 0 6px 6px; box-shadow: 0 8px 10px rgba(0,0,0,0.1); }
    .dropdown-menu .option { padding: 12px 15px; border-bottom: 1px solid #f0f0f0; cursor: pointer; transition: background-color 0.2s; }
    .dropdown-menu .option:last-child { border-bottom: none; }
    .dropdown-menu .option:hover { background-color: var(--light-gray); }
    .direccion { font-weight: bold; color: var(--secondary-color); }
    .nrua { font-size: 0.85em; color: #666; margin-top: 4px; display: block; }
    .purpose-list { background-color: #f9f9f9; border: 1px solid var(--border-color); border-radius: 6px; padding: 1rem 1.5rem; }
    .purpose-list p { margin-bottom: 0.5rem; }

    @media (max-width: 768px) {
        body { padding: 1rem 0.5rem; }
        .contract-container { padding: 1.5rem; }
        h1 { font-size: 1.5rem; }
        h2 { font-size: 1.2rem; }
    }
    
    /* --- ESTILOS PARA IMPRESIÓN --- */
    @media print {
        body {
            font-size: 10pt; line-height: 1.3; padding: 0; background-color: #fff; color: #000;
        }
        .contract-container {
            max-width: 100%; padding: 0; box-shadow: none; border-radius: 0; margin: 0;
        }
        h1, h2, h3 {
            color: #000 !important; margin-top: 1.2em; margin-bottom: 0.6em; padding-bottom: 0.2em;
        }
        h1 { font-size: 15pt; }
        h2 { font-size: 12pt; }
        h3 { font-size: 11pt; border-bottom: 1px solid #ccc; }
        p { margin-bottom: 0.8em; }
        .party-info, .purpose-list {
            padding: 0.5em 0.8em; margin-bottom: 0.8em; background-color: #f0f0f0 !important; border: 1px solid #ddd;
        }
        .placeholder {
            background-color: #e0e0e0; padding: 0.1em 0.3em; border-bottom: 1px solid #999;
        }
        .dropdown-toggle { border: none; padding: 0; }
        .dropdown-toggle::after { display: none; }
        .signatures-container {
            page-break-inside: avoid; /* Evita que las firmas se dividan entre páginas */
        }
        canvas { border: 1px solid #333; }
        
        .clear-signature-btn {
            display: none !important;
        }
    }
  </style>
</head>
<body>

<div class="contract-container">
  <h1>CONTRATO DE ARRENDAMIENTO DE ESTANCIAS TEMPORALES NO VACACIONALES</h1>
  <p style="text-align:right;">En Madrid, a <span class="placeholder">[Fecha]</span></p>

  <h2>REUNIDOS</h2>
  <div class="party-info">
    <p>
      <strong>De una parte, D./D.ª Nina Dong</strong>, mayor de edad, con domicilio en <span class="placeholder">[Dirección]</span>, y con NIF 05298495P, en adelante, la <strong>Parte Arrendadora</strong>.
    </p>
  </div>
  <div class="party-info">
    <p>
      <strong>Y de otra, D./D.ª <span class="placeholder">[Nombre del arrendatario]</span></strong>, mayor de edad, con domicilio en <span class="placeholder">[Dirección]</span>, y con NIF/PASAPORTE <span class="placeholder">[NIF del arrendatario]</span>, en adelante, la <strong>Parte Arrendataria</strong>.
    </p>
  </div>
  <p>Ambas partes, reconociéndose capacidad legal suficiente, acuerdan formalizar el presente contrato de arrendamiento de corta duración, con sujeción a las siguientes:</p>
  
  <h2>CLÁUSULAS</h2>
  
  <h3>Primera. Objeto del contrato</h3>
  <p>La Parte Arrendadora cede en arrendamiento a la Parte Arrendataria, quien acepta, la unidad de alojamiento ubicada en:</p>
  <div class="dropdown" id="alojDropdown">
    <div class="dropdown-toggle" id="selectedOption">Haz clic para seleccionar alojamiento</div>
    <div class="dropdown-menu" id="dropdownMenu">
      <div class="option" data-value="alcala-roja">
        <div class="direccion">C/ALCALA 281 1ºJ 28027 MADRID, HAB ROJA</div>
        <span class="nrua">NRUA ESHFNT000028117000578623001000000000000000000000000007</span>
      </div>
      <div class="option" data-value="alcala-verde">
        <div class="direccion">C/ALCALA 281 1ºJ 28027 MADRID, HAB VERDE</div>
        <span class="nrua">NRUA ESHFNT00002811700057862300200000000000000000000000006</span>
      </div>
      <div class="option" data-value="alcala-amarilla">
        <div class="direccion">C/ALCALA 281 1ºJ 28027 MADRID, HAB AMARILLA</div>
        <span class="nrua">NRUA ESHFNT00002811700057862300300000000000000000000000005</span>
      </div>
      <div class="option" data-value="vallejo-1">
        <div class="direccion">C/DOCTOR VALLEJO 35 2ºA 28027 MADRID, HAB 1</div>
        <span class="nrua">NRUA ESHFNT00002811700042449400100000000000000000000000003</span>
      </div>
      <div class="option" data-value="vallejo-2">
        <div class="direccion">C/DOCTOR VALLEJO 35 2ºA 28027 MADRID, HAB 2</div>
        <span class="nrua">NRUA ESHFNT00002811700042449400200000000000000000000000002</span>
      </div>
      <div class="option" data-value="vallejo-3">
        <div class="direccion">C/DOCTOR VALLEJO 35 2ºA 28027 MADRID, HAB 3</div>
        <span class="nrua">NRUA ESHFNT00002811700042449400300000000000000000000000001</span>
      </div>
      <div class="option" data-value="vallejo-4">
        <div class="direccion">C/DOCTOR VALLEJO 35 2ºA 28027 MADRID, HAB 4</div>
        <span class="nrua">NRUA ESHFNT00002811700042449400400000000000000000000000000</span>
      </div>
      <div class="option" data-value="vallejo-5">
        <div class="direccion">C/DOCTOR VALLEJO 35 2ºA 28027 MADRID, HAB 5</div>
        <span class="nrua">NRUA ESHFNT00002811700042449400500000000000000000000000009</span>
      </div>
    </div>
  </div>
  
  <h3>Segunda. Finalidad temporal del arrendamiento</h3>
  <p>El arrendamiento tiene carácter temporal y no permanente, destinado a:</p>
  <div class="purpose-list">
    <p>[ ] Trabajo temporal</p>
    <p>[ ] Estudios</p>
    <p>[ ] Tratamiento médico</p>
    <p>[ ] Motivos personales / familiares</p>
    <p>Otros <span class="placeholder">[Especificar]</span></p>
  </div>
  <p>Conforme al artículo 3 de la Ley de Arrendamientos Urbanos, este contrato no se rige por las disposiciones aplicables al arrendamiento de vivienda habitual.</p>
  
  <h3>Tercera. Duración</h3>
  <p>El presente contrato tendrá una duración desde el día <span class="placeholder">[Fecha de inicio]</span> hasta el día <span class="placeholder">[Fecha de finalización]</span>, sin posibilidad de prórroga tácita, salvo acuerdo expreso.</p>
  
  <h3>Cuarta. Renta y forma de pago</h3>
  <p>El precio del arrendamiento ha sido acordado y satisfecho íntegramente a través de la plataforma digital: <span class="placeholder">[Nombre de la plataforma]</span>.</p>
  <p>Dicha plataforma incluye tasas e impuestos en la gestión del pago. Las partes reconocen haber aceptado las condiciones económicas en dicha plataforma.</p>
  
  <h3>Quinta. Fianza</h3>
  <p>Al tratarse del arrendamiento temporal de una habitación ubicada dentro de la vivienda habitual de la parte arrendadora, las partes acuerdan no establecer fianza alguna.</p>
  <p>Esta exención se realiza conforme al carácter temporal del arrendamiento y la naturaleza del uso compartido del inmueble, en ejercicio de la libertad contractual reconocida por la normativa civil vigente.</p>
  
  <h3>Sexta. Uso y conservación</h3>
  <p>El arrendatario usará el alojamiento exclusivamente como vivienda temporal, sin realizar actividades molestas o ilegales.</p>
  
  <h3>Séptima. Protección de datos personales</h3>
  <p>En cumplimiento del RGPD y LOPDGDD, se informa que los datos personales se tratarán para la gestión del arrendamiento y podrán comunicarse al Registro y la Ventanilla Única Digital. El arrendatario podrá ejercer sus derechos de protección de datos.</p>
  
  <h3>Octava. Legislación aplicable</h3>
  <p>Este contrato se rige por el Código Civil, la LAU, el Real Decreto 1312/2024 y normativa aplicable.</p>

  <p style="text-align:center; margin-top: 3rem;">Firmado por duplicado en el lugar y fecha indicados.</p>

  <div class="signatures-container">
    <div class="signature-section">
      <p>LA PARTE ARRENDADORA:</p>
      <canvas height="200" id="firmaArrendadora" width="300"></canvas>
      <button class="clear-signature-btn" data-canvas-id="firmaArrendadora">Borrar Firma</button>
    </div>
    
    <div class="signature-section">
      <p>LA PARTE ARRENDATARIA:</p>
      <canvas height="200" id="firmaArrendataria" width="300"></canvas>
      <button class="clear-signature-btn" data-canvas-id="firmaArrendataria">Borrar Firma</button>
    </div>
  </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/signature_pad@4.1.6/dist/signature_pad.umd.min.js"></script>
<script>
  // --- Dropdown Logic ---
  const toggle = document.getElementById('selectedOption');
  const menu = document.getElementById('dropdownMenu');
  const options = document.querySelectorAll('.option');
  toggle.addEventListener('click', () => { menu.style.display = menu.style.display === 'block' ? 'none' : 'block'; });
  options.forEach(option => {
    option.addEventListener('click', () => {
      const direccion = option.querySelector('.direccion').textContent;
      const nrua = option.querySelector('.nrua').textContent;
      toggle.innerHTML = '<div><div class="direccion">' + direccion + '</div><span class="nrua">' + nrua + '</span></div>';
      menu.style.display = 'none';
    });
  });
  window.addEventListener('click', e => { if (!document.getElementById('alojDropdown').contains(e.target)) { menu.style.display = 'none'; } });

  // --- Signature Pad Logic ---
  const signaturePads = {};

  ['firmaArrendadora', 'firmaArrendataria'].forEach(id => {
    const canvas = document.getElementById(id);
    canvas.signaturePad = new SignaturePad(canvas, {
      backgroundColor: 'rgba(252, 252, 252, 1)'
    });
    signaturePads[id] = canvas.signaturePad;
  });

  document.querySelectorAll('.clear-signature-btn').forEach(button => {
    button.addEventListener('click', (event) => {
      const canvasId = event.target.dataset.canvasId;
      if (signaturePads[canvasId]) {
        signaturePads[canvasId].clear();
      }
    });
  });
  
  function resizeCanvas(canvas) {
    const ratio = Math.max(window.devicePixelRatio || 1, 1);
    canvas.width = canvas.offsetWidth * ratio;
    canvas.height = canvas.offsetHeight * ratio;
    canvas.getContext("2d").scale(ratio, ratio);
  }
  
  function clearAndResize() {
      document.querySelectorAll('canvas').forEach(canvas => {
          if (canvas.signaturePad) {
            const data = canvas.signaturePad.toData();
            resizeCanvas(canvas);
            canvas.signaturePad.fromData(data);
          }
      });
  }

  window.addEventListener("resize", clearAndResize);
  
  document.querySelectorAll('canvas').forEach(resizeCanvas);

</script>

</body>
</html>
